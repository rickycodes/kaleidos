!function(t){function e(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function s(t){var e=t.pageX/window.innerWidth,i=t.pageY/window.innerHeight,s=e-.5,o=i-.5;h=s*r.radius*-2,f=o*r.radius*2}function o(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL=window.URL||window.webkitURL,navigator.getUserMedia&&navigator.getUserMedia({video:!0},function(t){c=document.createElement("video"),c.autoplay=!0,c.src=window.URL?window.URL.createObjectURL(t):t,r=new a(n),r.init(),window.addEventListener("mousemove",s),document.body.appendChild(r.domElement),l()},function(t){console.log(t)})}const a=i(1),n={className:"kaleidos",offsetRotation:0,offsetScale:1,offsetX:0,offsetY:0,radius:800,slices:Math.round(20*Math.random())+4,zoom:.4,ease:.1};var r,c,h=n.offsetX,f=n.offsetY,d=n.offsetRotation;const l=function(){var t=d-r.offsetRotation,e=Math.atan2(Math.sin(t),Math.cos(t));r.offsetX+=(h-r.offsetX)*n.ease,r.offsetY+=(f-r.offsetY)*n.ease,r.offsetRotation+=(e-r.offsetRotation)*n.ease,r.context.fillStyle=r.context.createPattern(c,"repeat"),r.draw(),requestAnimationFrame(l)};o()},function(t,e){t.exports=function(t){var e=2e3,i=.6;const s=this;return t.slices%2&&(t.slices+=1),this.className=t.className,this.domElement=document.createElement("canvas"),this.context=this.domElement.getContext("2d"),this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.offsetRotation=t.offsetRotation,this.radius=t.radius,this.init=function(){this.domElement.style.marginLeft=-t.radius+"px",this.domElement.style.marginTop=-t.radius+"px",this.domElement.setAttribute("class",this.className),this.domElement.width=this.domElement.height=2*t.radius,t.src&&(this.context.fillStyle=this.context.createPattern(this.image,"repeat")),this.draw()},this.draw=function(){var s=2*Math.PI/t.slices;t.src&&(e=this.image.width/2,i=t.zoom*(t.radius/Math.min(this.image.width,this.image.height)));for(var o=0;o<t.slices;o++)this.context.save(),this.context.translate(this.radius,this.radius),this.context.rotate(o*s),this.context.beginPath(),this.context.moveTo(-.5,-.5),this.context.arc(0,0,this.radius,s*-.51,.51*s),this.context.lineTo(.5,.5),this.context.closePath(),this.context.rotate(Math.PI/2),this.context.scale(i,i),this.context.scale([-1,1][o%2],1),this.context.translate(this.offsetX-e,this.offsetY),this.context.rotate(this.offsetRotation),this.context.scale(this.offsetScale,this.offsetScale),this.context.fill(),this.context.restore()},t.src&&(this.image=new Image,this.image.src=t.src,this.image.addEventListener("load",function(){s.init()})),this}}]);