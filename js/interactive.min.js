!function(t){function e(o){if(s[o])return s[o].exports;var i=s[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){function o(t){var e=t.pageX/window.innerWidth,s=t.pageY/window.innerHeight,o=e-.5,i=s-.5;r=o*c.radius*-2,h=i*c.radius*2}const i=s(1),n=new Image;n.src="http://i.imgur.com/YaZJZac.jpg";const a={className:"kaleidos",src:n,offsetRotation:0,offsetScale:1,offsetX:0,offsetY:0,radius:800,slices:Math.round(20*Math.random())+4,zoom:.4,ease:.1},c=new i(a);var r=a.offsetX,h=a.offsetY,f=a.offsetRotation;const d=function(){var t=f-c.offsetRotation,e=Math.atan2(Math.sin(t),Math.cos(t));c.offsetX+=(r-c.offsetX)*a.ease,c.offsetY+=(h-c.offsetY)*a.ease,c.offsetRotation+=(e-c.offsetRotation)*a.ease,c.draw(),requestAnimationFrame(d)};window.addEventListener("mousemove",o),document.body.appendChild(c.domElement),d(),console.log(c)},function(t,e){t.exports=function(t){const e=this;return t.slices%2&&(t.slices+=1),this.className=t.className,this.domElement=document.createElement("canvas"),this.context=this.domElement.getContext("2d"),this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.offsetRotation=t.offsetRotation,this.radius=t.radius,this.init=function(){this.domElement.style.marginLeft=-t.radius+"px",this.domElement.style.marginTop=-t.radius+"px",this.domElement.setAttribute("class",this.className),this.domElement.width=this.domElement.height=2*t.radius,this.context.fillStyle=this.context.createPattern(t.src,"repeat"),this.draw()},this.draw=function(){for(var e=2*Math.PI/t.slices,s=t.src.width/2,o=t.src.width||t.src.videoWidth,i=t.src.height||t.src.videoHeight,n=t.zoom*(t.radius/Math.min(o,i)),a=0;a<t.slices;a++)this.context.save(),this.context.translate(this.radius,this.radius),this.context.rotate(a*e),this.context.beginPath(),this.context.moveTo(-.5,-.5),this.context.arc(0,0,this.radius,e*-.51,.51*e),this.context.lineTo(.5,.5),this.context.closePath(),this.context.rotate(Math.PI/2),this.context.scale(n,n),this.context.scale([-1,1][a%2],1),this.context.translate(this.offsetX-s,this.offsetY),this.context.rotate(this.offsetRotation),this.context.scale(this.offsetScale,this.offsetScale),this.context.fill(),this.context.restore()},t.src.addEventListener("load",function(){e.init()}),this}}]);