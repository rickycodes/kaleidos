!function(t){function e(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function o(t){var e=t.pageX/window.innerWidth,i=t.pageY/window.innerHeight;if("touchmove"===t.type&&1===t.touches.length)var o=t.touches[0],e=o.clientX/window.innerWidth,i=o.clientY/window.innerHeight;var s=e-.5,n=i-.5;h=s*r.radius*-2,d=n*r.radius*2}function s(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL=window.URL||window.webkitURL,navigator.getUserMedia&&navigator.getUserMedia({video:{width:1280,height:720}},function(t){c=document.createElement("video"),c.autoplay=!0,c.src=window.URL?window.URL.createObjectURL(t):t,a.src=c,r=new n(a);try{r.init()}catch(e){console.log(e)}window.addEventListener("mousemove",o),window.addEventListener("touchmove",o),document.body.appendChild(r.domElement),l()},function(t){console.log(t)})}const n=i(1),a={offsetX:0,offsetY:0,offsetRotation:0,slices:Math.round(20*Math.random())+4,ease:.1};var r,c,h=a.offsetX,d=a.offsetY,f=a.offsetRotation;const l=function(){var t=f-r.offsetRotation,e=Math.atan2(Math.sin(t),Math.cos(t));r.offsetX+=(h-r.offsetX)*a.ease,r.offsetY+=(d-r.offsetY)*a.ease,r.offsetRotation+=(e-r.offsetRotation)*a.ease,requestAnimationFrame(l),r.context.fillStyle=r.context.createPattern(c,"repeat"),r.draw()};s()},function(t,e){t.exports=function(t){const e=this,i={className:"kaleidos",offsetRotation:0,offsetScale:1,offsetX:0,offsetY:0,radius:800,slices:20,zoom:.4,ease:.1};return Object.keys(i).forEach(function(o){t[o]=t[o]||i[o],e[o]=t[o]}),e.slices%2&&(e.slices+=1),this.domElement=document.createElement("canvas"),this.context=this.domElement.getContext("2d"),this.init=function(){this.domElement.style.marginLeft=-t.radius+"px",this.domElement.style.marginTop=-t.radius+"px",this.domElement.setAttribute("class",this.className),this.domElement.width=this.domElement.height=2*t.radius,this.context.fillStyle=this.context.createPattern(t.src,"repeat"),this.draw()},this.draw=function(){for(var e=2*Math.PI/this.slices,i=t.src.width/2,o=t.src.width||t.src.videoWidth,s=t.src.height||t.src.videoHeight,n=t.zoom*(t.radius/Math.min(o,s)),a=0;a<this.slices;a++)this.context.save(),this.context.translate(this.radius,this.radius),this.context.rotate(a*e),this.context.beginPath(),this.context.moveTo(-.5,-.5),this.context.arc(0,0,this.radius,e*-.51,.51*e),this.context.lineTo(.5,.5),this.context.closePath(),this.context.rotate(Math.PI/2),this.context.scale(n,n),this.context.scale([-1,1][a%2],1),this.context.translate(this.offsetX-i,this.offsetY),this.context.rotate(this.offsetRotation),this.context.scale(this.offsetScale,this.offsetScale),this.context.fill(),this.context.restore()},t.src.addEventListener("load",function(){e.init()}),this}}]);